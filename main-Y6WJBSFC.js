import{a as Er,b as Sr,c as Ir,d as kt,e as Qe,f as Tr,g as wr,h as br}from"./chunk-JANSJVXS.js";import{$a as q,$b as Mr,Ac as ot,Bc as $r,Ca as U,Cc as Ft,Da as ur,Db as _r,Dc as Gr,Eb as Ge,Ec as Qr,Fb as vr,Fc as Yr,Gc as Jr,Hc as Xr,Ic as Zr,Jc as es,Kb as Rt,Kc as ts,Lc as ns,Mb as Nt,Nb as Pr,Oa as j,Ob as Ar,P as A,Pb as Ot,Qa as De,Qb as Cr,R as Ee,Rb as kr,S as sr,Sa as ee,Ta as dr,Ua as rt,Ub as Rr,Va as At,Vb as Nr,W as bt,Wa as Ct,Wb as Or,X as re,Xa as p,Xb as Dr,Ya as m,Z as or,Za as O,Zb as Dt,_a as $e,a as ve,ab as se,ac as Lr,b as wt,bb as hr,bc as Fn,c as ir,ca as X,cc as z,da as Z,dc as Fr,ec as Ur,f as Oe,fb as pr,fc as xr,g as u,gb as f,gc as Vr,hb as Se,hc as qr,ib as H,ic as Mt,ja as ar,jb as Me,jc as Lt,kb as Le,kc as Wr,la as lr,lb as Fe,lc as zr,m as rr,mb as oe,mc as st,nb as ae,nc as Ye,o as Mn,oc as Je,pb as mr,pc as Br,qc as te,ra as Ln,rc as Un,sc as xn,tc as jr,ub as fr,uc as Vn,vb as gr,vc as qn,wa as b,wc as le,xa as Pt,xc as Xe,yc as Hr,za as cr,zb as yr,zc as Kr}from"./chunk-5CSTD54V.js";function vs(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Es=vs,Ss=new Lt("auth","Firebase",vs());var zt=new jr("@firebase/auth");function Vo(i,...e){zt.logLevel<=xn.WARN&&zt.warn(`Auth (${Xe}): ${i}`,...e)}function xt(i,...e){zt.logLevel<=xn.ERROR&&zt.error(`Auth (${Xe}): ${i}`,...e)}function ue(i,...e){throw ui(i,...e)}function Ue(i,...e){return ui(i,...e)}function Is(i,e,t){let n=Object.assign(Object.assign({},Es()),{[e]:t});return new Lt("auth","Firebase",n).create(e,{appName:i.name})}function Te(i){return Is(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ui(i,...e){if(typeof i!="string"){let t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(t,...n)}return Ss.create(i,...e)}function T(i,e,...t){if(!i)throw ui(e,...t)}function me(i){let e="INTERNAL ASSERTION FAILED: "+i;throw xt(e),new Error(e)}function we(i,e){i||me(e)}function jn(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function qo(){return is()==="http:"||is()==="https:"}function is(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}function Wo(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qo()||xr()||"connection"in navigator)?navigator.onLine:!0}function zo(){if(typeof navigator>"u")return null;let i=navigator;return i.languages&&i.languages[0]||i.language||null}var xe=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,we(t>e,"Short delay should be less than long delay!"),this.isMobile=Fr()||Vr()}get(){return Wo()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function di(i,e){we(i.emulator,"Emulator should always be set here");let{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Bt=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Bo={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var jo=new xe(3e4,6e4);function qe(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}function be(s,o,a,l){return u(this,arguments,function*(i,e,t,n,r={}){return Ts(i,r,()=>u(this,null,function*(){let c={},d={};n&&(e==="GET"?d=n:c={body:JSON.stringify(n)});let h=st(Object.assign({key:i.config.apiKey},d)).slice(1),v=yield i._getAdditionalHeaders();v["Content-Type"]="application/json",i.languageCode&&(v["X-Firebase-Locale"]=i.languageCode);let E=Object.assign({method:e,headers:v},c);return Ur()||(E.referrerPolicy="no-referrer"),Bt.fetch()(ws(i,i.config.apiHost,t,h),E)}))})}function Ts(i,e,t){return u(this,null,function*(){i._canInitEmulator=!1;let n=Object.assign(Object.assign({},Bo),e);try{let r=new Hn(i),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ut(i,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ut(i,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ut(i,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ut(i,"user-disabled",o);let d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Is(i,d,c);ue(i,d)}}catch(r){if(r instanceof Mt)throw r;ue(i,"network-request-failed",{message:String(r)})}})}function Zt(s,o,a,l){return u(this,arguments,function*(i,e,t,n,r={}){let c=yield be(i,e,t,n,r);return"mfaPendingCredential"in c&&ue(i,"multi-factor-auth-required",{_serverResponse:c}),c})}function ws(i,e,t,n){let r=`${e}${t}?${n}`;return i.config.emulator?di(i.config,r):`${i.config.apiScheme}://${r}`}function Ho(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Hn=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Ue(this.auth,"network-request-failed")),jo.get())})}};function Ut(i,e,t){let n={appName:i.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);let r=Ue(i,e,n);return r.customData._tokenResponse=t,r}function rs(i){return i!==void 0&&i.enterprise!==void 0}var Kn=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ho(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Ko(i,e){return u(this,null,function*(){return be(i,"GET","/v2/recaptchaConfig",qe(i,e))})}function $o(i,e){return u(this,null,function*(){return be(i,"POST","/v1/accounts:delete",e)})}function bs(i,e){return u(this,null,function*(){return be(i,"POST","/v1/accounts:lookup",e)})}function lt(i){if(i)try{let e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ps(i,e=!1){return u(this,null,function*(){let t=te(i),n=yield t.getIdToken(e),r=hi(n);T(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:n,authTime:lt(Wn(r.auth_time)),issuedAtTime:lt(Wn(r.iat)),expirationTime:lt(Wn(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Wn(i){return Number(i)*1e3}function hi(i){let[e,t,n]=i.split(".");if(e===void 0||t===void 0||n===void 0)return xt("JWT malformed, contained fewer than 3 sections"),null;try{let r=Mr(t);return r?JSON.parse(r):(xt("Failed to decode base64 JWT payload"),null)}catch(r){return xt("Caught error parsing JWT payload as JSON",r?.toString()),null}}function ss(i){let e=hi(i);return T(e,"internal-error"),T(typeof e.exp<"u","internal-error"),T(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ut(i,e,t=!1){return u(this,null,function*(){if(t)return e;try{return yield e}catch(n){throw n instanceof Mt&&Go(n)&&i.auth.currentUser===i&&(yield i.auth.signOut()),n}})}function Go({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}var $n=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>u(this,null,function*(){yield this.iteration()}),t)}iteration(){return u(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var dt=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lt(this.lastLoginAt),this.creationTime=lt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function jt(i){return u(this,null,function*(){var e;let t=i.auth,n=yield i.getIdToken(),r=yield ut(i,bs(t,{idToken:n}));T(r?.users.length,t,"internal-error");let s=r.users[0];i._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Cs(s.providerUserInfo):[],a=Qo(i.providerData,o),l=i.isAnonymous,c=!(i.email&&s.passwordHash)&&!a?.length,d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dt(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(i,h)})}function As(i){return u(this,null,function*(){let e=te(i);yield jt(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Qo(i,e){return[...i.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function Cs(i){return i.map(e=>{var{providerId:t}=e,n=Mn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function Yo(i,e){return u(this,null,function*(){let t=yield Ts(i,{},()=>u(this,null,function*(){let n=st({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=i.config,o=ws(i,r,"/v1/token",`key=${s}`),a=yield i._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Bt.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Jo(i,e){return u(this,null,function*(){return be(i,"POST","/v2/accounts:revokeToken",qe(i,e))})}var ct=class i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){T(e.idToken,"internal-error"),T(typeof e.idToken<"u","internal-error"),T(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ss(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){T(e.length!==0,"internal-error");let t=ss(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return u(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(T(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return u(this,null,function*(){let{accessToken:n,refreshToken:r,expiresIn:s}=yield Yo(e,t);this.updateTokensAndExpiration(n,r,Number(s))})}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:s}=t,o=new i;return n&&(T(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),r&&(T(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(T(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new i,this.toJSON())}_performRefresh(){return me("not implemented")}};function Ie(i,e){T(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}var Ze=class i{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=Mn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $n(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dt(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return u(this,null,function*(){let t=yield ut(this,this.stsTokenManager.getToken(this.auth,e));return T(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Ps(this,e)}reload(){return As(this)}_assign(e){this!==e&&(T(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return u(this,null,function*(){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&(yield jt(this)),yield this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)})}delete(){return u(this,null,function*(){if(le(this.auth.app))return Promise.reject(Te(this.auth));let e=yield this.getIdToken();return yield ut(this,$o(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,o,a,l,c,d;let h=(n=t.displayName)!==null&&n!==void 0?n:void 0,v=(r=t.email)!==null&&r!==void 0?r:void 0,E=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=t.photoURL)!==null&&o!==void 0?o:void 0,I=(a=t.tenantId)!==null&&a!==void 0?a:void 0,C=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,R=(c=t.createdAt)!==null&&c!==void 0?c:void 0,N=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:M,emailVerified:D,isAnonymous:pe,providerData:W,stsTokenManager:L}=t;T(M&&L,e,"internal-error");let x=ct.fromJSON(this.name,L);T(typeof M=="string",e,"internal-error"),Ie(h,e.name),Ie(v,e.name),T(typeof D=="boolean",e,"internal-error"),T(typeof pe=="boolean",e,"internal-error"),Ie(E,e.name),Ie(y,e.name),Ie(I,e.name),Ie(C,e.name),Ie(R,e.name),Ie(N,e.name);let J=new i({uid:M,auth:e,email:v,emailVerified:D,displayName:h,isAnonymous:pe,photoURL:y,phoneNumber:E,tenantId:I,stsTokenManager:x,createdAt:R,lastLoginAt:N});return W&&Array.isArray(W)&&(J.providerData=W.map(ye=>Object.assign({},ye))),C&&(J._redirectEventId=C),J}static _fromIdTokenResponse(e,t,n=!1){return u(this,null,function*(){let r=new ct;r.updateFromServerResponse(t);let s=new i({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield jt(s),s})}static _fromGetAccountInfoResponse(e,t,n){return u(this,null,function*(){let r=t.users[0];T(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?Cs(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new ct;a.updateFromIdToken(n);let l=new i({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new dt(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var os=new Map;function fe(i){we(i instanceof Function,"Expected a class definition");let e=os.get(i);return e?(we(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,os.set(i,e),e)}var Xo=(()=>{class i{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return u(this,null,function*(){return!0})}_set(t,n){return u(this,null,function*(){this.storage[t]=n})}_get(t){return u(this,null,function*(){let n=this.storage[t];return n===void 0?null:n})}_remove(t){return u(this,null,function*(){delete this.storage[t]})}_addListener(t,n){}_removeListener(t,n){}}return i.type="NONE",i})(),Gn=Xo;function Vt(i,e,t){return`firebase:${i}:${e}:${t}`}var Ht=class i{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:s}=this.auth;this.fullUserKey=Vt(this.userKey,r.apiKey,s),this.fullPersistenceKey=Vt("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return u(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ze._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return u(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return u(this,null,function*(){if(!t.length)return new i(fe(Gn),e,n);let r=(yield Promise.all(t.map(c=>u(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=r[0]||fe(Gn),o=Vt(n,e.config.apiKey,e.name),a=null;for(let c of t)try{let d=yield c._get(o);if(d){let h=Ze._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}let l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new i(s,e,n):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(c=>u(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new i(s,e,n))})}};function as(i){let e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Os(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ks(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ms(e))return"Blackberry";if(Ls(e))return"Webos";if(Rs(e))return"Safari";if((e.includes("chrome/")||Ns(e))&&!e.includes("edge/"))return"Chrome";if(Ds(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(t);if(n?.length===2)return n[1]}return"Other"}function ks(i=z()){return/firefox\//i.test(i)}function Rs(i=z()){let e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ns(i=z()){return/crios\//i.test(i)}function Os(i=z()){return/iemobile/i.test(i)}function Ds(i=z()){return/android/i.test(i)}function Ms(i=z()){return/blackberry/i.test(i)}function Ls(i=z()){return/webos/i.test(i)}function pi(i=z()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Zo(i=z()){var e;return pi(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ea(){return qr()&&document.documentMode===10}function Fs(i=z()){return pi(i)||Ds(i)||Ls(i)||Ms(i)||/windows phone/i.test(i)||Os(i)}function Us(i,e=[]){let t;switch(i){case"Browser":t=as(z());break;case"Worker":t=`${as(z())}-${i}`;break;default:t=i}let n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xe}/${n}`}var Qn=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return u(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)yield n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}})}};function ta(t){return u(this,arguments,function*(i,e={}){return be(i,"GET","/v2/passwordPolicy",qe(i,e))})}var na=6,Yn=class{constructor(e){var t,n,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:na,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Jn=class{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kt(this),this.idTokenSubscription=new Kt(this),this.beforeStateQueue=new Qn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ss,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fe(t)),this._initializationPromise=this.queue(()=>u(this,null,function*(){var n,r;if(!this._deleted&&(this.persistenceManager=yield Ht.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return u(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return u(this,null,function*(){try{let t=yield bs(this,{idToken:e}),n=yield Ze._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return u(this,null,function*(){var t;if(le(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),r=n,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return T(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return u(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return u(this,null,function*(){try{yield jt(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=zo()}_delete(){return u(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return u(this,null,function*(){if(le(this.app))return Promise.reject(Te(this));let t=e?te(e):null;return t&&T(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return u(this,null,function*(){if(!this._deleted)return e&&T(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>u(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return u(this,null,function*(){return le(this.app)?Promise.reject(Te(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return le(this.app)?Promise.reject(Te(this)):this.queue(()=>u(this,null,function*(){yield this.assertedPersistence.setPersistence(fe(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return u(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return u(this,null,function*(){let e=yield ta(this),t=new Yn(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}revokeAccessToken(e){return u(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),yield Jo(this,n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return u(this,null,function*(){let n=yield this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return u(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&fe(e)||this._popupRedirectResolver;T(t,this,"argument-error"),this.redirectPersistenceManager=yield Ht.create(this,[fe(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return u(this,null,function*(){var t,n;return this._isInitialized&&(yield this.queue(()=>u(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return u(this,null,function*(){if(e===this.currentUser)return this.queue(()=>u(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(T(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,n,r);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return u(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Us(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return u(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return u(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Vo(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function et(i){return te(i)}var Kt=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Br(t=>this.observer=t)}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var en={loadJS(){return u(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ia(i){en=i}function xs(i){return en.loadJS(i)}function ra(){return en.recaptchaEnterpriseScript}function sa(){return en.gapiScript}function Vs(i){return`__${i}${Math.floor(Math.random()*1e6)}`}var Xn=class{constructor(){this.enterprise=new Zn}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Zn=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var oa="recaptcha-enterprise",qs="NO_RECAPTCHA",ei=class{constructor(e){this.type=oa,this.auth=et(e)}verify(e="verify",t=!1){return u(this,null,function*(){function n(s){return u(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>u(this,null,function*(){Ko(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new Kn(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})}))})}function r(s,o,a){let l=window.grecaptcha;rs(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(qs)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Xn().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(a=>{if(!t&&rs(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ra();l.length!==0&&(l+=a),xs(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function at(i,e,t,n=!1,r=!1){return u(this,null,function*(){let s=new ei(i),o;if(r)o=qs;else try{o=yield s.verify(t)}catch{o=yield s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return n?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function ls(i,e,t,n,r){return u(this,null,function*(){var s,o;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((s=i._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield at(i,e,t,t==="getOobCode");return n(i,a)}else return n(i,e).catch(a=>u(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield at(i,e,t,t==="getOobCode");return n(i,l)}else return Promise.reject(a)}));else if(r==="PHONE_PROVIDER")if(!((o=i._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=yield at(i,e,t);return n(i,a).catch(l=>u(this,null,function*(){var c;if(((c=i._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield at(i,e,t,!1,!0);return n(i,d)}return Promise.reject(l)}))}else{let a=yield at(i,e,t,!1,!0);return n(i,a)}else return Promise.reject(r+" provider is not supported.")})}function Ws(i,e){let t=qn(i,"auth");if(t.isInitialized()){let r=t.getImmediate(),s=t.getOptions();if(zr(s,e??{}))return r;ue(r,"already-initialized")}return t.initialize({options:e})}function aa(i,e){let t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(fe);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(n,e?.popupRedirectResolver)}function zs(i,e,t){let n=et(i);T(n._canInitEmulator,n,"emulator-config-failed"),T(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");let r=!!t?.disableWarnings,s=Bs(e),{host:o,port:a}=la(e),l=a===null?"":`:${a}`;n.config.emulator={url:`${s}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||ca()}function Bs(i){let e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function la(i){let e=Bs(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};let n=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let s=r[1];return{host:s,port:cs(n.substr(s.length+1))}}else{let[s,o]=n.split(":");return{host:s,port:cs(o)}}}function cs(i){if(!i)return null;let e=Number(i);return isNaN(e)?null:e}function ca(){function i(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}var ht=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return me("not implemented")}_getIdTokenResponse(e){return me("not implemented")}_linkToIdToken(e,t){return me("not implemented")}_getReauthenticationResolver(e){return me("not implemented")}};function ua(i,e){return u(this,null,function*(){return be(i,"POST","/v1/accounts:signUp",e)})}function da(i,e){return u(this,null,function*(){return Zt(i,"POST","/v1/accounts:signInWithPassword",qe(i,e))})}function ha(i,e){return u(this,null,function*(){return Zt(i,"POST","/v1/accounts:signInWithEmailLink",qe(i,e))})}function pa(i,e){return u(this,null,function*(){return Zt(i,"POST","/v1/accounts:signInWithEmailLink",qe(i,e))})}var pt=class i extends ht{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new i(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new i(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return u(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ls(e,t,"signInWithPassword",da,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ha(e,{email:this._email,oobCode:this._password});default:ue(e,"internal-error")}})}_linkToIdToken(e,t){return u(this,null,function*(){switch(this.signInMethod){case"password":let n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ls(e,n,"signUpPassword",ua,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return pa(e,{idToken:t,email:this._email,oobCode:this._password});default:ue(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function zn(i,e){return u(this,null,function*(){return Zt(i,"POST","/v1/accounts:signInWithIdp",qe(i,e))})}function ma(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fa(i){let e=Ye(Je(i)).link,t=e?Ye(Je(e)).deep_link_id:null,n=Ye(Je(i)).deep_link_id;return(n?Ye(Je(n)).link:null)||n||t||e||i}var $t=class i{constructor(e){var t,n,r,s,o,a;let l=Ye(Je(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,d=(n=l.oobCode)!==null&&n!==void 0?n:null,h=ma((r=l.mode)!==null&&r!==void 0?r:null);T(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=fa(e);try{return new i(t)}catch{return null}}};var js=(()=>{class i{constructor(){this.providerId=i.PROVIDER_ID}static credential(t,n){return pt._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){let r=$t.parseLink(n);return T(r,"argument-error"),pt._fromEmailAndCode(t,r.code,r.tenantId)}}i.PROVIDER_ID="password",i.EMAIL_PASSWORD_SIGN_IN_METHOD="password",i.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return i})(),Gt=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ti=class extends Gt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var mt=class i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,r=!1){return u(this,null,function*(){let s=yield Ze._fromIdTokenResponse(e,n,r),o=us(n);return new i({user:s,providerId:o,_tokenResponse:n,operationType:t})})}static _forOperation(e,t,n){return u(this,null,function*(){yield e._updateTokensIfNecessary(n,!0);let r=us(n);return new i({user:e,providerId:r,_tokenResponse:n,operationType:t})})}};function us(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}var ni=class i extends Mt{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,i.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new i(e,t,n,r)}};function Hs(i,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ni._fromErrorAndOperation(i,s,e,n):s})}function ga(i,e,t=!1){return u(this,null,function*(){let n=yield ut(i,e._linkToIdToken(i.auth,yield i.getIdToken()),t);return mt._forOperation(i,"link",n)})}function ya(i,e,t=!1){return u(this,null,function*(){let{auth:n}=i;if(le(n.app))return Promise.reject(Te(n));let r="reauthenticate";try{let s=yield ut(i,Hs(n,r,e,i),t);T(s.idToken,n,"internal-error");let o=hi(s.idToken);T(o,n,"internal-error");let{sub:a}=o;return T(i.uid===a,n,"user-mismatch"),mt._forOperation(i,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&ue(n,"user-mismatch"),s}})}function Ks(i,e,t=!1){return u(this,null,function*(){if(le(i.app))return Promise.reject(Te(i));let n="signIn",r=yield Hs(i,n,e),s=yield mt._fromIdTokenResponse(i,n,r);return t||(yield i._updateCurrentUser(s.user)),s})}function $s(i,e){return u(this,null,function*(){return Ks(et(i),e)})}function _a(i){return u(this,null,function*(){let e=et(i);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function mi(i,e,t){return le(i.app)?Promise.reject(Te(i)):$s(te(i),js.credential(e,t)).catch(n=>u(this,null,function*(){throw n.code==="auth/password-does-not-meet-requirements"&&_a(i),n}))}function fi(i,e){return te(i).setPersistence(e)}function Gs(i,e,t,n){return te(i).onIdTokenChanged(e,t,n)}function Qs(i,e,t){return te(i).beforeAuthStateChanged(e,t)}function gi(i,e,t,n){return te(i).onAuthStateChanged(e,t,n)}function yi(i){return te(i).signOut()}var Qt="__sak";var Yt=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qt,"1"),this.storage.removeItem(Qt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var va=1e3,Ea=10,Sa=(()=>{class i extends Yt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fs(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let r=t.key;n?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);ea()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Ea):s()}notifyListeners(t,n){this.localCache[t]=n;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},va)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,n){return u(this,null,function*(){yield Oe(i.prototype,this,"_set").call(this,t,n),this.localCache[t]=JSON.stringify(n)})}_get(t){return u(this,null,function*(){let n=yield Oe(i.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(n),n})}_remove(t){return u(this,null,function*(){yield Oe(i.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return i.type="LOCAL",i})(),tn=Sa;var Ia=(()=>{class i extends Yt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}return i.type="SESSION",i})(),_i=Ia;function Ta(i){return Promise.all(i.map(e=>u(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var wa=(()=>{class i{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;let r=new i(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return u(this,null,function*(){let n=t,{eventId:r,eventType:s,data:o}=n.data,a=this.handlersMap[s];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let l=Array.from(a).map(d=>u(this,null,function*(){return d(n.origin,o)})),c=yield Ta(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}i.receivers=[];return i})();function Ys(i="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return i+t}var ii=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){return u(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=Ys("",20);r.port1.start();let d=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(h){let v=h;if(v.data.eventId===c)switch(v.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(v.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ce(){return window}function ba(i){ce().location.href=i}function Js(){return typeof ce().WorkerGlobalScope<"u"&&typeof ce().importScripts=="function"}function Pa(){return u(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Aa(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Ca(){return Js()?self:null}var Xs="firebaseLocalStorageDb",ka=1,Jt="firebaseLocalStorage",Zs="fbase_key",Ve=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function nn(i,e){return i.transaction([Jt],e?"readwrite":"readonly").objectStore(Jt)}function Ra(){let i=indexedDB.deleteDatabase(Xs);return new Ve(i).toPromise()}function ri(){let i=indexedDB.open(Xs,ka);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{let n=i.result;try{n.createObjectStore(Jt,{keyPath:Zs})}catch(r){t(r)}}),i.addEventListener("success",()=>u(this,null,function*(){let n=i.result;n.objectStoreNames.contains(Jt)?e(n):(n.close(),yield Ra(),e(yield ri()))}))})}function ds(i,e,t){return u(this,null,function*(){let n=nn(i,!0).put({[Zs]:e,value:t});return new Ve(n).toPromise()})}function Na(i,e){return u(this,null,function*(){let t=nn(i,!1).get(e),n=yield new Ve(t).toPromise();return n===void 0?null:n.value})}function hs(i,e){let t=nn(i,!0).delete(e);return new Ve(t).toPromise()}var Oa=800,Da=3,Ma=(()=>{class i{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return u(this,null,function*(){return this.db?this.db:(this.db=yield ri(),this.db)})}_withRetries(t){return u(this,null,function*(){let n=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(n++>Da)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return u(this,null,function*(){return Js()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return u(this,null,function*(){this.receiver=wa._getInstance(Ca()),this.receiver._subscribe("keyChanged",(t,n)=>u(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(t,n)=>u(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return u(this,null,function*(){var t,n;if(this.activeServiceWorker=yield Pa(),!this.activeServiceWorker)return;this.sender=new ii(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return u(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Aa()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return u(this,null,function*(){try{if(!indexedDB)return!1;let t=yield ri();return yield ds(t,Qt,"1"),yield hs(t,Qt),!0}catch{}return!1})}_withPendingWrite(t){return u(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,n){return u(this,null,function*(){return this._withPendingWrite(()=>u(this,null,function*(){return yield this._withRetries(r=>ds(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)}))})}_get(t){return u(this,null,function*(){let n=yield this._withRetries(r=>Na(r,t));return this.localCache[t]=n,n})}_remove(t){return u(this,null,function*(){return this._withPendingWrite(()=>u(this,null,function*(){return yield this._withRetries(n=>hs(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return u(this,null,function*(){let t=yield this._withRetries(s=>{let o=nn(s,!1).getAll();return new Ve(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n})}notifyListeners(t,n){this.localCache[t]=n;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>u(this,null,function*(){return this._poll()}),Oa)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return i.type="LOCAL",i})(),eo=Ma;var Eu=Vs("rcb"),Su=new xe(3e4,6e4);function La(i,e){return e?fe(e):(T(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}var ft=class extends ht{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zn(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Fa(i){return Ks(i.auth,new ft(i),i.bypassAuthState)}function Ua(i){let{auth:e,user:t}=i;return T(t,e,"internal-error"),ya(t,new ft(i),i.bypassAuthState)}function xa(i){return u(this,null,function*(){let{auth:e,user:t}=i;return T(t,e,"internal-error"),ga(t,new ft(i),i.bypassAuthState)})}var si=class{constructor(e,t,n,r,s=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>u(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}onAuthEvent(e){return u(this,null,function*(){let{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fa;case"linkViaPopup":case"linkViaRedirect":return xa;case"reauthViaPopup":case"reauthViaRedirect":return Ua;default:ue(this.auth,"internal-error")}}resolve(e){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Iu=new xe(2e3,1e4);var Va="pendingRedirect",qt=new Map,oi=class i extends si{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){return u(this,null,function*(){let e=qt.get(this.auth._key());if(!e){try{let n=(yield qa(this.resolver,this.auth))?yield Oe(i.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}qt.set(this.auth._key(),e)}return this.bypassAuthState||qt.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return u(this,null,function*(){if(e.type==="signInViaRedirect")return Oe(i.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Oe(i.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return u(this,null,function*(){})}cleanUp(){}};function qa(i,e){return u(this,null,function*(){let t=Ba(e),n=za(i);if(!(yield n._isAvailable()))return!1;let r=(yield n._get(t))==="true";return yield n._remove(t),r})}function Wa(i,e){qt.set(i._key(),e)}function za(i){return fe(i._redirectPersistence)}function Ba(i){return Vt(Va,i.config.apiKey,i.name)}function ja(i,e,t=!1){return u(this,null,function*(){if(le(i.app))return Promise.reject(Te(i));let n=et(i),r=La(n,e),o=yield new oi(n,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield n._persistUserIfCurrent(o.user),yield n._setRedirectUser(null,e)),o})}var Ha=10*60*1e3,ai=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ka(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!to(e)){let r=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ue(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ha&&this.cachedEventUids.clear(),this.cachedEventUids.has(ps(e))}saveEventToCache(e){this.cachedEventUids.add(ps(e)),this.lastProcessedEventTime=Date.now()}};function ps(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function to({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function Ka(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return to(i);default:return!1}}function $a(t){return u(this,arguments,function*(i,e={}){return be(i,"GET","/v1/projects",e)})}var Ga=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qa=/^https?/;function Ya(i){return u(this,null,function*(){if(i.config.emulator)return;let{authorizedDomains:e}=yield $a(i);for(let t of e)try{if(Ja(t))return}catch{}ue(i,"unauthorized-domain")})}function Ja(i){let e=jn(),{protocol:t,hostname:n}=new URL(e);if(i.startsWith("chrome-extension://")){let o=new URL(i);return o.hostname===""&&n===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===n}if(!Qa.test(t))return!1;if(Ga.test(i))return n===i;let r=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}var Xa=new xe(3e4,6e4);function ms(){let i=ce().___jsl;if(i?.H){for(let e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function Za(i){return new Promise((e,t)=>{var n,r,s;function o(){ms(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ms(),t(Ue(i,"network-request-failed"))},timeout:Xa.get()})}if(!((r=(n=ce().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=ce().gapi)===null||s===void 0)&&s.load)o();else{let a=Vs("iframefcb");return ce()[a]=()=>{gapi.load?o():t(Ue(i,"network-request-failed"))},xs(`${sa()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Wt=null,e})}var Wt=null;function el(i){return Wt=Wt||Za(i),Wt}var tl=new xe(5e3,15e3),nl="__/auth/iframe",il="emulator/auth/iframe",rl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ol(i){let e=i.config;T(e.authDomain,i,"auth-domain-config-required");let t=e.emulator?di(e,il):`https://${i.config.authDomain}/${nl}`,n={apiKey:e.apiKey,appName:i.name,v:Xe},r=sl.get(i.config.apiHost);r&&(n.eid=r);let s=i._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${st(n).slice(1)}`}function al(i){return u(this,null,function*(){let e=yield el(i),t=ce().gapi;return T(t,i,"internal-error"),e.open({where:document.body,url:ol(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rl,dontclear:!0},n=>new Promise((r,s)=>u(this,null,function*(){yield n.restyle({setHideOnLeave:!1});let o=Ue(i,"network-request-failed"),a=ce().setTimeout(()=>{s(o)},tl.get());function l(){ce().clearTimeout(a),r(n)}n.ping(l).then(l,()=>{s(o)})})))})}var ll={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cl=500,ul=600,dl="_blank",hl="http://localhost",Xt=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function pl(i,e,t,n=cl,r=ul){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString(),a="",l=Object.assign(Object.assign({},ll),{width:n.toString(),height:r.toString(),top:s,left:o}),c=z().toLowerCase();t&&(a=Ns(c)?dl:t),ks(c)&&(e=e||hl,l.scrollbars="yes");let d=Object.entries(l).reduce((v,[E,y])=>`${v}${E}=${y},`,"");if(Zo(c)&&a!=="_self")return ml(e||"",a),new Xt(null);let h=window.open(e||"",a,d);T(h,i,"popup-blocked");try{h.focus()}catch{}return new Xt(h)}function ml(i,e){let t=document.createElement("a");t.href=i,t.target=e;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}var fl="__/auth/handler",gl="emulator/auth/handler",yl=encodeURIComponent("fac");function fs(i,e,t,n,r,s){return u(this,null,function*(){T(i.config.authDomain,i,"auth-domain-config-required"),T(i.config.apiKey,i,"invalid-api-key");let o={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:n,v:Xe,eventId:r};if(e instanceof Gt){e.setDefaultLanguage(i.languageCode),o.providerId=e.providerId||"",Wr(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof ti){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}i.tenantId&&(o.tid=i.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let l=yield i._getAppCheckToken(),c=l?`#${yl}=${encodeURIComponent(l)}`:"";return`${_l(i)}?${st(a).slice(1)}${c}`})}function _l({config:i}){return i.emulator?di(i,gl):`https://${i.authDomain}/${fl}`}var Bn="webStorageSupport",li=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_i,this._completeRedirectFn=ja,this._overrideRedirectResult=Wa}_openPopup(e,t,n,r){return u(this,null,function*(){var s;we((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield fs(e,t,n,jn(),r);return pl(e,o,Ys())})}_openRedirect(e,t,n,r){return u(this,null,function*(){yield this._originValidation(e);let s=yield fs(e,t,n,jn(),r);return ba(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(we(s,"If manager is not set, promise should be"),s)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}initAndGetManager(e){return u(this,null,function*(){let t=yield al(e),n=new ai(e);return t.register("authEvent",r=>(T(r?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bn,{type:Bn},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[Bn];o!==void 0&&t(!!o),ue(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ya(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Fs()||Rs()||pi()}},no=li;var gs="@firebase/auth",ys="1.8.1";var ci=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return u(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function vl(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function El(i){Vn(new Un("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;T(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:o,authDomain:a,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Us(i)},c=new Jn(n,r,s,l);return aa(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Vn(new Un("auth-internal",e=>{let t=et(e.getProvider("auth").getImmediate());return(n=>new ci(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ot(gs,ys,vl(i)),ot(gs,ys,"esm2017")}var Sl=5*60,Il=Fn("authIdTokenMaxAge")||Sl,_s=null,Tl=i=>e=>u(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Il)return;let r=t?.token;_s!==r&&(_s=r,yield fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function vi(i=Kr()){let e=qn(i,"auth");if(e.isInitialized())return e.getImmediate();let t=Ws(i,{popupRedirectResolver:no,persistence:[eo,tn,_i]}),n=Fn("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(n,location.origin);if(location.origin===s.origin){let o=Tl(s.toString());Qs(t,o,()=>o(t.currentUser)),Gs(t,a=>o(a))}}let r=Lr("auth");return r&&zs(t,`http://${r}`),t}function wl(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}ia({loadJS(i){return new Promise((e,t)=>{let n=document.createElement("script");n.setAttribute("src",i),n.onload=e,n.onerror=r=>{let s=Ue("internal-error");s.customData=r,t(s)},n.type="text/javascript",n.charset="UTF-8",wl().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});El("Browser");function Ei(i,e){return{uid:i,authUserId:e.external_id,email:e.email,userName:e.user_name,roles:e.rol,status:e.status}}var tt=class i{db=Gr();getUser(e){return u(this,null,function*(){try{let t=$r(this.db,"users"),n=Qr(t,Yr("external_id","==",e),Jr(1)),r=yield Xr(n);if(r.empty)return console.log("No document found with the given attribute and value"),null;{let s=r.docs[0];return console.log(Ei(s.id,s.data())),Ei(s.id,s.data())}}catch(t){console.error("Error getting document:",t)}return null})}createUser(e,t){return u(this,null,function*(){let n=Ft(this.db,"users",e);yield Zr(n,t)})}updateUser(e,t){return u(this,null,function*(){let n=Ft(this.db,"users",e);yield es(n,t)})}deleteUser(e){return u(this,null,function*(){let t=Ft(this.db,"users",e);yield ts(t)})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Ee({token:i,factory:i.\u0275fac,providedIn:"root"})};var Pe=class i{auth=vi();userService=re(tt);user$=new rr(null);constructor(){gi(this.auth,e=>this.user$.next(e)),fi(this.auth,tn).catch(e=>{console.error("Error configurando la persistencia:",e)})}login(e,t){return mi(this.auth,e,t)}logout(){return console.log("Usuairo logueado: ",this.auth.currentUser?.email),localStorage.removeItem("token"),yi(this.auth)}getUser(){return this.user$.asObservable()}isLoggedIn(){return this.user$.value!==null}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Ee({token:i,factory:i.\u0275fac,providedIn:"root"})};function Cl(i,e){i&1&&(p(0,"span"),f(1,"Loading..."),m())}function kl(i,e){i&1&&(p(0,"span"),f(1,"Login"),m())}function Rl(i,e){if(i&1&&(p(0,"p",11),f(1),m()),i&2){let t=se();b(),H(" ",t.errorMessage," ")}}var rn=class i{constructor(e,t,n){this.authService=e;this.userService=t;this.router=n}email="";password="";errorMessage="";isLoading=!1;login(){return u(this,null,function*(){this.isLoading=!0,this.errorMessage="";try{let e=yield this.authService.login(this.email,this.password);localStorage.setItem("token",yield e.user.getIdToken()),this.router.navigate(["/home"])}catch(e){console.error("Login error:",e),this.errorMessage=e.message}finally{this.isLoading=!1}})}static \u0275fac=function(t){return new(t||i)(Pt(Pe),Pt(tt),Pt(Qe))};static \u0275cmp=U({type:i,selectors:[["app-login"]],decls:19,vars:5,consts:[[1,"container","d-flex","justify-content-center"],[1,"card","shadow","w-50","my-5"],[1,"card-header"],[1,"card-body","p-4"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100","fs-5",3,"disabled"],[1,"error-message"]],template:function(t,n){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),f(4,"Login"),m()(),p(5,"div",3)(6,"form",4),q("ngSubmit",function(){return n.login()}),p(7,"div",5)(8,"label",6),f(9,"Email:"),m(),p(10,"input",7),Fe("ngModelChange",function(s){return Le(n.email,s)||(n.email=s),s}),m()(),p(11,"div",5)(12,"label",8),f(13,"Password:"),m(),p(14,"input",9),Fe("ngModelChange",function(s){return Le(n.password,s)||(n.password=s),s}),m()(),p(15,"button",10),De(16,Cl,2,0,"span")(17,kl,2,0,"span"),m(),De(18,Rl,2,1,"p",11),m()()()()),t&2&&(b(10),Me("ngModel",n.email),b(4),Me("ngModel",n.password),b(),ee("disabled",n.isLoading),b(),rt(n.isLoading?16:17),b(2),rt(n.errorMessage?18:-1))},dependencies:[Dt,Cr,Rt,Nt,Pr,Dr,Ot,Ar],styles:[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;border:1px solid #ddd;border-radius:5px;background:#f9f9f9}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.error-message[_ngcontent-%COMP%]{color:red;margin-top:10px}"]})};var sn=class i{authService=re(Pe);router=re(Qe);logOut(){this.authService.logout()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-sidebar"]],decls:51,vars:0,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","bg-dark"],[1,"d-flex","flex-column","flex-shrink-0","p-3","text-white","bg-dark","min-vh-100"],["href","/",1,"d-flex","align-items-center","pb-3","mb-md-0","me-md-auto","text-white","text-decoration-none"],[1,"fs-5","d-none","d-sm-inline"],["id","menu",1,"nav","nav-pills","flex-column","mb-auto"],[1,"nav-item"],["routerLink","/home",1,"nav-link","text-white"],[1,"fs-4","bi-house"],[1,"ms-1","d-none","d-sm-inline"],["routerLink","/home/pos","routerLinkActive","active",1,"nav-link","text-white"],[1,"fs-4","bi","bi-cart4"],["routerLink","/home/products","routerLinkActive","active",1,"nav-link","text-white"],[1,"fs-4","bi-grid"],["routerLink","/under-construction",1,"nav-link","text-white"],[1,"fs-4","bi-people"],[1,"dropdown","pb-4"],["href","#","id","dropdownUser1","data-bs-toggle","dropdown","aria-expanded","false",1,"d-flex","align-items-center","text-white","text-decoration-none","dropdown-toggle"],["src","https://github.com/mdo.png","alt","hugenerd","width","30","height","30",1,"rounded-circle"],[1,"d-none","d-sm-inline","mx-1"],[1,"dropdown-menu","dropdown-menu-dark","text-small","shadow"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","/auth/login",1,"dropdown-item",3,"click"],[1,"col","py-3"]],template:function(t,n){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"span",5),f(6,"Menu"),m()(),p(7,"ul",6)(8,"li",7)(9,"a",8),O(10,"i",9),p(11,"span",10),f(12,"Home"),m()()(),p(13,"li")(14,"a",11),O(15,"i",12),p(16,"span",10),f(17,"POS"),m()()(),p(18,"li")(19,"a",13),O(20,"i",14),p(21,"span",10),f(22,"Productos"),m()()(),p(23,"li")(24,"a",15),O(25,"i",16),p(26,"span",10),f(27,"Clientes"),m()()()(),O(28,"hr"),p(29,"div",17)(30,"a",18),O(31,"img",19),p(32,"span",20),f(33,"User"),m()(),p(34,"ul",21)(35,"li")(36,"a",22),f(37,"New project..."),m()(),p(38,"li")(39,"a",22),f(40,"Settings"),m()(),p(41,"li")(42,"a",22),f(43,"Profile"),m()(),p(44,"li"),O(45,"hr",23),m(),p(46,"li")(47,"a",24),q("click",function(){return n.logOut()}),f(48,"Sign out"),m()()()()()(),p(49,"div",25),O(50,"router-outlet"),m()()())},dependencies:[kt,Tr,wr],encapsulation:2})};var on=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-home"]],decls:1,vars:0,template:function(t,n){t&1&&O(0,"app-sidebar")},dependencies:[sn],encapsulation:2})};var io=(i,e)=>u(void 0,null,function*(){let t=re(Qe),n=re(Pe),r=j(null),s=localStorage.getItem("token");if(s){let o=JSON.parse(atob(s.split(".")[1]));return Date.now()>=o.exp*1e3?(localStorage.removeItem("token"),t.navigate(["auth/login"]),!1):!0}return n.isLoggedIn()?!0:(t.navigate(["auth/login"]),!1)});var w=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(w||{}),de="*";function Si(i,e){return{type:w.Trigger,name:i,definitions:e,options:{}}}function Ii(i,e=null){return{type:w.Animate,styles:e,timings:i}}function ro(i,e=null){return{type:w.Sequence,steps:i,options:e}}function We(i){return{type:w.Style,styles:i,offset:null}}function Ti(i,e,t=null){return{type:w.Transition,expr:i,animation:e,options:t}}var Ce=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},gt=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,n=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(r)})}getPosition(){let e=this.players.reduce((t,n)=>t===null||n.totalTime>t.totalTime?n:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},an="!";var ln=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-modal-spinner"]],decls:9,vars:0,consts:[["id","loadingModal","tabindex","-1","role","dialog","aria-hidden","true",1,"fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","text-center"],[1,"modal-body"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"]],template:function(t,n){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),f(6,"Loading..."),m()(),p(7,"p",6),f(8,"Buscando producto..."),m()()()()())},encapsulation:2})};var cn=class{uid;authUserId;email;userName;roles;status;constructor(e="",t="",n="",r="",s=[],o="active"){this.uid=e,this.authUserId=t,this.email=n,this.userName=r,this.roles=s,this.status=o}};var un=class{customerId;customerName;dateCreated;dateModified;productsList;userSeller;status;cashInstallment;mpInstallment;subtotal;discount;total;balanceBeforeSale;balanceAfterSale;constructor(){this.customerId="",this.customerName="",this.dateCreated=new Date,this.dateModified=new Date,this.productsList=[],this.userSeller=new cn,this.status="pending",this.cashInstallment=0,this.mpInstallment=0,this.subtotal=0,this.discount=0,this.total=0,this.balanceBeforeSale=0,this.balanceAfterSale=0}};var Nl=(i,e)=>e.id;function Ol(i,e){if(i&1&&(p(0,"tr",1)(1,"td"),f(2),m(),p(3,"td"),f(4),m(),p(5,"td"),f(6),m(),p(7,"td"),f(8),m(),p(9,"td"),f(10),oe(11,"currency"),m()()),i&2){let t=e.$implicit;b(2),Se(t.name),b(2),Se(t.quantity),b(2),H("$",t.priceByUnit,""),b(2),H("$",t.priceByKg,""),b(2),Se(ae(11,5,t.priceByUnit))}}var dn=class i{products=[];static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-modal-products-table"]],inputs:{products:"products"},decls:16,vars:0,consts:[[1,"table","table-striped"],[1,"text-center"],["scope","col"]],template:function(t,n){t&1&&(p(0,"table",0)(1,"thead")(2,"tr",1)(3,"th",2),f(4,"Producto"),m(),p(5,"th",2),f(6,"Cantidad"),m(),p(7,"th",2),f(8,"$/unidad"),m(),p(9,"th",2),f(10,"$/Kg"),m(),p(11,"th",2),f(12,"Total"),m()()(),p(13,"tbody"),At(14,Ol,12,7,"tr",1,Nl),m()()),t&2&&(b(14),Ct(n.products))},dependencies:[Ge],encapsulation:2})};function Dl(i,e){if(i&1){let t=$e();p(0,"div",20)(1,"div",21)(2,"select",22),Fe("ngModelChange",function(r){let s=X(t).$implicit;return Le(s.type,r)||(s.type=r),Z(r)}),p(3,"option",23),f(4,"Efectivo"),m(),p(5,"option",24),f(6,"Tarjeta"),m(),p(7,"option",25),f(8,"Otro"),m()(),p(9,"input",26),Fe("ngModelChange",function(r){let s=X(t).$implicit;return Le(s.amount,r)||(s.amount=r),Z(r)}),q("focus",function(r){X(t);let s=se();return Z(s.clearPaymentInput(r))})("blur",function(r){let s=X(t).index,o=se();return Z(o.restoreDefaultIfEmpty(r,s))})("input",function(r){let s=X(t).index,o=se();return Z(o.setPaymentAmount(r,s))}),m(),p(10,"button",27),q("click",function(){let r=X(t).index,s=se();return Z(s.removePayment(r))}),f(11," Quitar "),m()()()}if(i&2){let t=e.$implicit,n=e.index;b(2),Me("ngModel",t.type),b(7),hr("id","payment-",n,""),Me("ngModel",t.amount)}}var hn=class i{saleSummary=lr({products:[],total:0});discount=j(0);payments=[{type:"cash",amount:j(0)}];paymentSum=j(this.payments.reduce((e,t)=>e+t.amount(),0));totalToPay=fr(()=>{console.log("total dentro del computed: ",this.saleSummary().total);let e=this.saleSummary().total*this.discount()/100;return this.saleSummary().total-e-this.paymentSum()});defaultAmountInputValue=0;isDiscountInputFirstFocus=!0;isPaymentInputFirstFocus=!0;resetTotalToPay(){this.discount.set(0),this.payments=[],this.paymentSum.set(0)}setPaymentAmount(e,t){let n=e.target;this.payments[t].amount.set(Number(n.value)),this.paymentSum.set(this.payments.reduce((r,s)=>r+s.amount(),0))}addPayment(){this.payments.push({type:"cash",amount:j(0)})}removePayment(e){this.payments.splice(e,1),this.paymentSum.set(this.payments.reduce((t,n)=>t+n.amount(),0))}finalizeSale(){console.log("Venta finalizada con \xE9xito:",{saleSummary:this.saleSummary,discount:this.discount,payments:this.payments})}clearDiscountInput(e){if(this.isDiscountInputFirstFocus){let t=e.target;t.value="",this.isDiscountInputFirstFocus=!1,this.discount.set(0)}}clearPaymentInput(e){if(this.isPaymentInputFirstFocus){let t=e.target;t.value="",this.isPaymentInputFirstFocus=!1}}restoreDefaultIfEmpty(e,t){let n=e.target;(n.value===""||n.value==="0")&&(n.value=String(this.defaultAmountInputValue),n.id==="discount-input"&&(this.isDiscountInputFirstFocus=!0,this.discount.set(0)),n.id.includes("payment-")&&(this.payments[t].amount.set(this.defaultAmountInputValue),this.isPaymentInputFirstFocus=!0))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-sale-summary-modal"]],inputs:{saleSummary:[1,"saleSummary"]},decls:34,vars:10,consts:[["id","saleSummaryModal","data-bs-backdrop","static","tabindex","-1","aria-labelledby","saleSummaryModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","saleSummaryModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"container","mb-3"],[3,"products"],[1,"row","justify-content-end"],[1,"col-auto"],[1,"badge","bg-secondary","fs-5"],[1,"mb-3"],["for","discount",1,"form-label"],["type","number","id","discount","placeholder","Ingesa el porcentaje de descuento",1,"form-control",3,"ngModelChange","focus","blur","ngModel"],["class","mb-2",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click","disabled"],[1,"mb-2"],[1,"input-group"],["aria-label","Tipo de pago",1,"form-select",3,"ngModelChange","ngModel"],["value","cash"],["value","card"],["value","other"],["type","number","placeholder","Monto",1,"form-control",3,"ngModelChange","focus","blur","input","id","ngModel"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,n){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),f(5," Resumen de la Venta "),m(),O(6,"button",5),m(),p(7,"div",6)(8,"div",7),O(9,"app-modal-products-table",8),p(10,"div",9)(11,"div",10)(12,"span",11),f(13),oe(14,"currency"),m()()()(),p(15,"div",12)(16,"label",13),f(17,"Descuento (%)"),m(),p(18,"input",14),Fe("ngModelChange",function(s){return Le(n.discount,s)||(n.discount=s),s}),q("focus",function(s){return n.clearDiscountInput(s)})("blur",function(s){return n.restoreDefaultIfEmpty(s)}),m()(),p(19,"div",12)(20,"h6"),f(21,"M\xE9todos de Pago:"),m(),De(22,Dl,12,4,"div",15),p(23,"button",16),q("click",function(){return n.addPayment()}),f(24," Agregar M\xE9todo de Pago "),m()(),p(25,"div",12)(26,"h6"),f(27),oe(28,"currency"),m()()(),p(29,"div",17)(30,"button",18),q("click",function(){return n.resetTotalToPay()}),f(31," Cancelar "),m(),p(32,"button",19),q("click",function(){return n.finalizeSale()}),f(33," Finalizar Venta "),m()()()()()),t&2&&(b(9),ee("products",n.saleSummary().products),b(4),H(" Subtotal: ",ae(14,6,n.saleSummary().total)," "),b(5),Me("ngModel",n.discount),b(4),ee("ngForOf",n.payments),b(5),H("Total a Pagar: ",ae(28,8,n.totalToPay()),""),b(5),ee("disabled",n.totalToPay()>0))},dependencies:[vr,_r,Ge,Dt,Nr,Or,Rt,kr,Rr,Nt,Ot,dn],encapsulation:2})};var Ml=(i,e)=>e.id;function Ll(i,e){if(i&1){let t=$e();p(0,"tr",10)(1,"td"),f(2),m(),p(3,"td"),f(4),m(),p(5,"td"),f(6),m(),p(7,"td"),f(8),oe(9,"currency"),m(),p(10,"td"),f(11),oe(12,"currency"),m(),p(13,"td"),f(14),oe(15,"currency"),m(),p(16,"td",10)(17,"i",15),q("click",function(){let r=X(t).$implicit,s=se();return Z(s.removeProduct(r.id))}),m()()()}if(i&2){let t=e.$implicit;ee("@fadeOutAnimation",void 0),b(2),Se(t.name),b(2),H(" ",t.barcode!=""?t.barcode:t.pluCode," "),b(),ee("@quantityAnimation",t.quantity),b(),H(" ",t.quantity," "),b(2),Se(ae(9,11,t.priceByUnit)),b(3),Se(ae(12,13,t.priceByKg)),b(3),H(" ",t.priceByUnit!=0?t.priceByUnit*t.quantity:ae(15,15,t.priceByKg*t.quantity)," "),b(3),dr(t.quantity>1?"bi bi-dash-circle":"bi bi-trash"),ee("title",t.quantity>1?"Restar":"Eliminar")}}function Fl(i,e){if(i&1){let t=$e();p(0,"div",12)(1,"div",16)(2,"button",17),q("click",function(){X(t);let r=se();return Z(r.updateSaleSummary())}),f(3," Finalizar Venta "),m()()()}}var pn=class i{scannedProducts=j([]);productsFoundByName=j([]);subtotal=j(0);productService=re(ns);newSale=j(new un);currentSaleSummary=j({products:[],total:0});constructor(){gr(()=>{let e=this.scannedProducts().reduce((t,n)=>t+(n.priceByUnit+n.priceByKg)*n.quantity,0);this.subtotal.set(e)})}ngOnInit(){document.getElementById("barcode-input")?.focus()}updateSaleSummary(){console.log("Toral enviado desde pos:",this.subtotal()),this.currentSaleSummary.set({products:this.scannedProducts(),total:this.subtotal()})}searchProduct(e){return u(this,null,function*(){this.showLoadingModal();let t=/^\d+$/.test(e)?"BARCODE":"PRODUCT_NAME";if(console.log("Tipo de busqueda:",t),t==="PRODUCT_NAME"){let n=yield this.productService.getProductsByName(e);if(n.length===0){this.hideModal(),console.log("No se encontraron productos");return}this.productsFoundByName.set(n),console.log(this.productsFoundByName()),this.hideModal()}else{let n=this.scannedProducts().find(r=>r.barcode===e);if(n)n.quantity++,this.scannedProducts.update(r=>r.map(s=>s.barcode===e?n:s)),this.hideModal();else{let r=yield this.productService.getProductByBarcode(e);if(r().length===0){let s=Number(e.slice(0,5)),o=yield this.productService.getProductsByPluCode(s);if(o.length>0){let a=wt(ve({},o[0]),{quantity:1});this.scannedProducts.update(l=>[...l,a]),console.log("Scanned Products: ",this.scannedProducts())}else console.log("No se encontr\xF3 el producto")}else{let s=wt(ve({},r()[0]),{quantity:1});this.scannedProducts.update(o=>[...o,s])}this.hideModal()}}})}clearCart(){this.scannedProducts.set([]),this.subtotal.set(0)}removeProduct(e){this.scannedProducts.update(t=>t.map(n=>n.id===e?n.quantity>1?wt(ve({},n),{quantity:n.quantity-1}):null:n).filter(n=>n!==null))}showLoadingModal(){let e=document.getElementById("loadingModal");e&&(e.classList.add("show"),e.style.display="block",document.body.classList.add("modal-open"))}hideModal(){let e=document.getElementById("loadingModal");e&&(e.classList.remove("show"),e.style.display="none",document.body.classList.remove("modal-open"))}finalizeSale(){this.updateSaleSummary()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-pos"]],decls:40,vars:5,consts:[["barcodeInput",""],[1,"card","shadow","mx-3"],[1,"card-header"],[1,"card-body"],[1,"form-floating","mb-3"],["id","barcode-input","type","text","placeholder","Escanea o ingresa un c\xF3digo",1,"form-control",3,"keyup.enter"],["for","barcode-input"],[1,"container"],[1,"card-title"],[1,"table","table-striped"],[1,"text-center"],["scope","col"],[1,"row"],[1,"col","text-end"],[3,"saleSummary"],[2,"cursor","pointer","color","red",3,"click","title"],[1,"col","text-center"],["type","button","data-bs-toggle","modal","data-bs-target","#saleSummaryModal",1,"btn","btn-primary",3,"click"]],template:function(t,n){if(t&1){let r=$e();p(0,"div",1)(1,"div",2),f(2,"Nueva Venta"),m(),p(3,"div",3)(4,"div",4)(5,"input",5,0),q("keyup.enter",function(){X(r);let o=pr(6);return n.searchProduct(o.value),Z(o.value="")}),m(),p(7,"label",6),f(8,"Escanea o ingresa un c\xF3digo"),m()(),p(9,"div",7)(10,"h5",8),f(11,"Productos Agregados"),m(),p(12,"table",9)(13,"thead")(14,"tr",10)(15,"th",11),f(16,"Producto"),m(),p(17,"th",11),f(18,"C\xF3digo"),m(),p(19,"th",11),f(20,"Cantidad"),m(),p(21,"th",11),f(22,"Precio Unitario"),m(),p(23,"th",11),f(24,"Precio por Kg."),m(),p(25,"th",11),f(26,"Subtotal"),m(),p(27,"th",11),f(28,"Acciones"),m()()(),p(29,"tbody"),At(30,Ll,18,17,"tr",10,Ml),m()(),O(32,"app-modal-spinner"),p(33,"div",12)(34,"div",13)(35,"h3"),f(36),oe(37,"currency"),m()()(),O(38,"app-sale-summary-modal",14),De(39,Fl,4,0,"div",12),m()()()}t&2&&(b(30),Ct(n.scannedProducts()),b(6),H("Total: ",ae(37,3,n.subtotal()),""),b(2),ee("saleSummary",n.currentSaleSummary()),b(),rt(n.scannedProducts().length>0?39:-1))},dependencies:[Ge,ln,hn],encapsulation:2,data:{animation:[Si("fadeOutAnimation",[Ti(":leave",[Ii("300ms ease-out",We({opacity:0,transform:"translateX(-100%)"}))])]),Si("quantityAnimation",[Ti("* => *",[We({scale:1.3,color:"#4CAF50"}),Ii("300ms ease-out",We({scale:1,color:"*"}))])])]}})};var mn=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-underconstructionpage"]],decls:8,vars:0,consts:[[1,"container","text-center"],[1,"text-primary"],[1,"lead"],[1,"loader"],[1,"text-muted"]],template:function(t,n){t&1&&(p(0,"div",0)(1,"h1",1),f(2,"\u{1F6A7} P\xE1gina en Construcci\xF3n \u{1F6A7}"),m(),p(3,"p",2),f(4,"Ya falta menos, estoy trabajando en ello."),m(),O(5,"div",3),p(6,"p",4),f(7,"Gracias por su paciencia."),m()())},styles:["body[_ngcontent-%COMP%]{background-color:#f8f9fa;display:flex;justify-content:center;align-items:center;height:100vh;text-align:center}.container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1.5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:20px auto}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var so=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"auth/login",title:"ChickenApp - Login",component:rn},{path:"under-construction",title:"P\xE1gina en construcci\xF3n",component:mn},{path:"home",title:"ChickenApp Home",component:on,children:[{path:"pos",title:"ChickenApp POS",component:pn},{path:"products",title:"Productos",loadComponent:()=>import("./chunk-IFMSAVVZ.js").then(i=>i.ProductsComponent)},{path:"create-product",title:"Nuevo Producto",loadComponent:()=>import("./chunk-WLMNFQGT.js").then(i=>i.CreateProductFormComponent)}],canActivate:[io]}];function oo(i){return new A(3e3,!1)}function Ul(){return new A(3100,!1)}function xl(){return new A(3101,!1)}function Vl(i){return new A(3001,!1)}function ql(i){return new A(3003,!1)}function Wl(i){return new A(3004,!1)}function zl(i,e){return new A(3005,!1)}function Bl(){return new A(3006,!1)}function jl(){return new A(3007,!1)}function Hl(i,e){return new A(3008,!1)}function Kl(i){return new A(3002,!1)}function $l(i,e,t,n,r){return new A(3010,!1)}function Gl(){return new A(3011,!1)}function Ql(){return new A(3012,!1)}function Yl(){return new A(3200,!1)}function Jl(){return new A(3202,!1)}function Xl(){return new A(3013,!1)}function Zl(i){return new A(3014,!1)}function ec(i){return new A(3015,!1)}function tc(i){return new A(3016,!1)}function nc(i,e){return new A(3404,!1)}function ic(i){return new A(3502,!1)}function rc(i){return new A(3503,!1)}function sc(){return new A(3300,!1)}function oc(i){return new A(3504,!1)}function ac(i){return new A(3301,!1)}function lc(i,e){return new A(3302,!1)}function cc(i){return new A(3303,!1)}function uc(i,e){return new A(3400,!1)}function dc(i){return new A(3401,!1)}function hc(i){return new A(3402,!1)}function pc(i,e){return new A(3505,!1)}function ke(i){switch(i.length){case 0:return new Ce;case 1:return i[0];default:return new gt(i)}}function So(i,e,t=new Map,n=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),d=c==o,h=d&&a||new Map;l.forEach((v,E)=>{let y=E,I=v;if(E!=="offset")switch(y=i.normalizePropertyName(y,r),I){case an:I=t.get(E);break;case de:I=n.get(E);break;default:I=i.normalizeStyleValue(E,y,I,r);break}h.set(y,I)}),d||s.push(h),a=h,o=c}),r.length)throw ic(r);return s}function Hi(i,e,t,n){switch(e){case"start":i.onStart(()=>n(t&&wi(t,"start",i)));break;case"done":i.onDone(()=>n(t&&wi(t,"done",i)));break;case"destroy":i.onDestroy(()=>n(t&&wi(t,"destroy",i)));break}}function wi(i,e,t){let n=t.totalTime,r=!!t.disabled,s=Ki(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,n??i.totalTime,r),o=i._data;return o!=null&&(s._data=o),s}function Ki(i,e,t,n,r="",s=0,o){return{element:i,triggerName:e,fromState:t,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function $(i,e,t){let n=i.get(e);return n||i.set(e,n=t),n}function ao(i){let e=i.indexOf(":"),t=i.substring(1,e),n=i.slice(e+1);return[t,n]}var mc=typeof document>"u"?null:document.documentElement;function $i(i){let e=i.parentNode||i.host||null;return e===mc?null:e}function fc(i){return i.substring(1,6)=="ebkit"}var ze=null,lo=!1;function gc(i){ze||(ze=yc()||{},lo=ze.style?"WebkitAppearance"in ze.style:!1);let e=!0;return ze.style&&!fc(i)&&(e=i in ze.style,!e&&lo&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in ze.style)),e}function yc(){return typeof document<"u"?document.body:null}function Io(i,e){for(;e;){if(e===i)return!0;e=$i(e)}return!1}function To(i,e,t){if(t)return Array.from(i.querySelectorAll(e));let n=i.querySelector(e);return n?[n]:[]}var Gi=(()=>{class i{validateStyleProperty(t){return gc(t)}containsElement(t,n){return Io(t,n)}getParentElement(t){return $i(t)}query(t,n,r){return To(t,n,r)}computeStyle(t,n,r){return r||""}animate(t,n,r,s,o,a=[],l){return new Ce(r,s)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Ee({token:i,factory:i.\u0275fac})}return i})(),He=class{static NOOP=new Gi},Ke=class{};var _c=1e3,wo="{{",vc="}}",bo="ng-enter",Ri="ng-leave",fn="ng-trigger",En=".ng-trigger",co="ng-animating",Ni=".ng-animating";function ge(i){if(typeof i=="number")return i;let e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Oi(parseFloat(e[1]),e[2])}function Oi(i,e){switch(e){case"s":return i*_c;default:return i}}function Sn(i,e,t){return i.hasOwnProperty("duration")?i:Ec(i,e,t)}function Ec(i,e,t){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof i=="string"){let a=i.match(n);if(a===null)return e.push(oo(i)),{duration:0,delay:0,easing:""};r=Oi(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=Oi(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=i;if(!t){let a=!1,l=e.length;r<0&&(e.push(Ul()),a=!0),s<0&&(e.push(xl()),a=!0),a&&e.splice(l,0,oo(i))}return{duration:r,delay:s,easing:o}}function Sc(i){return i.length?i[0]instanceof Map?i:i.map(e=>new Map(Object.entries(e))):[]}function he(i,e,t){e.forEach((n,r)=>{let s=Qi(r);t&&!t.has(r)&&t.set(r,i.style[s]),i.style[s]=n})}function je(i,e){e.forEach((t,n)=>{let r=Qi(n);i.style[r]=""})}function yt(i){return Array.isArray(i)?i.length==1?i[0]:ro(i):i}function Ic(i,e,t){let n=e.params||{},r=Po(i);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||t.push(Vl(s))})}var Di=new RegExp(`${wo}\\s*(.+?)\\s*${vc}`,"g");function Po(i){let e=[];if(typeof i=="string"){let t;for(;t=Di.exec(i);)e.push(t[1]);Di.lastIndex=0}return e}function vt(i,e,t){let n=`${i}`,r=n.replace(Di,(s,o)=>{let a=e[o];return a==null&&(t.push(ql(o)),a=""),a.toString()});return r==n?i:r}var Tc=/-+([a-z0-9])/g;function Qi(i){return i.replace(Tc,(...e)=>e[1].toUpperCase())}function wc(i,e){return i===0||e===0}function bc(i,e,t){if(t.size&&e.length){let n=e[0],r=[];if(t.forEach((s,o)=>{n.has(o)||r.push(o),n.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,Yi(i,a)))}}return e}function K(i,e,t){switch(e.type){case w.Trigger:return i.visitTrigger(e,t);case w.State:return i.visitState(e,t);case w.Transition:return i.visitTransition(e,t);case w.Sequence:return i.visitSequence(e,t);case w.Group:return i.visitGroup(e,t);case w.Animate:return i.visitAnimate(e,t);case w.Keyframes:return i.visitKeyframes(e,t);case w.Style:return i.visitStyle(e,t);case w.Reference:return i.visitReference(e,t);case w.AnimateChild:return i.visitAnimateChild(e,t);case w.AnimateRef:return i.visitAnimateRef(e,t);case w.Query:return i.visitQuery(e,t);case w.Stagger:return i.visitStagger(e,t);default:throw Wl(e.type)}}function Yi(i,e){return window.getComputedStyle(i)[e]}var Pc=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),In=class extends Ke{normalizePropertyName(e,t){return Qi(e)}normalizeStyleValue(e,t,n,r){let s="",o=n.toString().trim();if(Pc.has(t)&&n!==0&&n!=="0")if(typeof n=="number")s="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(zl(e,n))}return o+s}};var Tn="*";function Ac(i,e){let t=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>Cc(n,t,e)):t.push(i),t}function Cc(i,e,t){if(i[0]==":"){let l=kc(i,t);if(typeof l=="function"){e.push(l);return}i=l}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return t.push(ec(i)),e;let r=n[1],s=n[2],o=n[3];e.push(uo(r,o));let a=r==Tn&&o==Tn;s[0]=="<"&&!a&&e.push(uo(o,r))}function kc(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(tc(i)),"* => *"}}var gn=new Set(["true","1"]),yn=new Set(["false","0"]);function uo(i,e){let t=gn.has(i)||yn.has(i),n=gn.has(e)||yn.has(e);return(r,s)=>{let o=i==Tn||i==r,a=e==Tn||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?gn.has(i):yn.has(i)),!a&&n&&typeof s=="boolean"&&(a=s?gn.has(e):yn.has(e)),o&&a}}var Ao=":self",Rc=new RegExp(`s*${Ao}s*,?`,"g");function Co(i,e,t,n){return new Mi(i).build(e,t,n)}var ho="",Mi=class{_driver;constructor(e){this._driver=e}build(e,t,n){let r=new Li(t);return this._resetContextStyleTimingState(r),K(this,yt(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=ho,e.collectedStyles=new Map,e.collectedStyles.set(ho,new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(Bl()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==w.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==w.Transition){let l=this.visitTransition(a,t);n+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(jl())}),{type:w.Trigger,name:e.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(e,t){let n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){let s=new Set,o=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Po(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(Hl(e.name,[...s.values()]))}return{type:w.State,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let n=K(this,yt(e.animation),t),r=Ac(e.expr,t.errors);return{type:w.Transition,matchers:r,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Be(e.options)}}visitSequence(e,t){return{type:w.Sequence,steps:e.steps.map(n=>K(this,n,t)),options:Be(e.options)}}visitGroup(e,t){let n=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=n;let a=K(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:w.Group,steps:s,options:Be(e.options)}}visitAnimate(e,t){let n=Mc(e.timings,t.errors);t.currentAnimateTimings=n;let r,s=e.styles?e.styles:We({});if(s.type==w.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};n.easing&&(c.easing=n.easing),o=We(c)}t.currentTime+=n.duration+n.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:w.Animate,timings:n,style:r,options:null}}visitStyle(e,t){let n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){let n=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===de?n.push(a):t.errors.push(Kl(a)):n.push(new Map(Object.entries(a)));let s=!1,o=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(wo)>=0){s=!0;break}}}),{type:w.Style,styles:n,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let n=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),d=c.get(l),h=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(t.errors.push($l(l,d.startTime,d.endTime,s,r)),h=!1),s=d.startTime),h&&c.set(l,{startTime:s,endTime:r}),t.options&&Ic(a,t.options,t.errors)})})}visitKeyframes(e,t){let n={type:w.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Gl()),n;let r=1,s=0,o=[],a=!1,l=!1,c=0,d=e.steps.map(R=>{let N=this._makeStyleAst(R,t),M=N.offset!=null?N.offset:Dc(N.styles),D=0;return M!=null&&(s++,D=N.offset=M),l=l||D<0||D>1,a=a||D<c,c=D,o.push(D),N});l&&t.errors.push(Ql()),a&&t.errors.push(Yl());let h=e.steps.length,v=0;s>0&&s<h?t.errors.push(Jl()):s==0&&(v=r/(h-1));let E=h-1,y=t.currentTime,I=t.currentAnimateTimings,C=I.duration;return d.forEach((R,N)=>{let M=v>0?N==E?1:v*N:o[N],D=M*C;t.currentTime=y+I.delay+D,I.duration=D,this._validateStyleAst(R,t),R.offset=M,n.styles.push(R)}),n}visitReference(e,t){return{type:w.Reference,animation:K(this,yt(e.animation),t),options:Be(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:w.AnimateChild,options:Be(e.options)}}visitAnimateRef(e,t){return{type:w.AnimateRef,animation:this.visitReference(e.animation,t),options:Be(e.options)}}visitQuery(e,t){let n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=Nc(e.selector);t.currentQuerySelector=n.length?n+" "+s:s,$(t.collectedStyles,t.currentQuerySelector,new Map);let a=K(this,yt(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:w.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Be(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Xl());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Sn(e.timings,t.errors,!0);return{type:w.Stagger,animation:K(this,yt(e.animation),t),timings:n,options:null}}};function Nc(i){let e=!!i.split(/\s*,\s*/).find(t=>t==Ao);return e&&(i=i.replace(Rc,"")),i=i.replace(/@\*/g,En).replace(/@\w+/g,t=>En+"-"+t.slice(1)).replace(/:animating/g,Ni),[i,e]}function Oc(i){return i?ve({},i):null}var Li=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function Dc(i){if(typeof i=="string")return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let t=i;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Mc(i,e){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let s=Sn(i,e).duration;return bi(s,0,"")}let t=i;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=bi(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=Sn(t,e);return bi(r.duration,r.delay,r.easing)}function Be(i){return i?(i=ve({},i),i.params&&(i.params=Oc(i.params))):i={},i}function bi(i,e,t){return{duration:i,delay:e,easing:t}}function Ji(i,e,t,n,r,s,o=null,a=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Et=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Lc=1,Fc=":enter",Uc=new RegExp(Fc,"g"),xc=":leave",Vc=new RegExp(xc,"g");function ko(i,e,t,n,r,s=new Map,o=new Map,a,l,c=[]){return new Fi().buildKeyframes(i,e,t,n,r,s,o,a,l,c)}var Fi=class{buildKeyframes(e,t,n,r,s,o,a,l,c,d=[]){c=c||new Et;let h=new Ui(e,t,c,r,s,d,[]);h.options=l;let v=l.delay?ge(l.delay):0;h.currentTimeline.delayNextStep(v),h.currentTimeline.setStyles([o],null,h.errors,l),K(this,n,h);let E=h.timelines.filter(y=>y.containsAnimation());if(E.length&&a.size){let y;for(let I=E.length-1;I>=0;I--){let C=E[I];if(C.element===t){y=C;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,h.errors,l)}return E.length?E.map(y=>y.buildKeyframes()):[Ji(t,[],[],[],0,v,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let n=t.subInstructions.get(t.element);if(n){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:ge(vt(s,r?.params??{},t.errors));n.delayNextStep(o)}}}_visitSubInstructions(e,t,n){let s=t.currentTimeline.currentTime,o=n.duration!=null?ge(n.duration):null,a=n.delay!=null?ge(n.delay):null;return o!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),K(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let n=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==w.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=wn);let o=ge(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>K(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let n=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?ge(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),K(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let n=e.strValue,r=t.params?vt(n,t.params,t.errors):n;return Sn(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());let s=e.style;s.type==w.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(s):n.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let n=t.currentAnimateTimings,r=t.currentTimeline.duration,s=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let n=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?ge(r.delay):0;s&&(t.previousNode.type===w.Style||n==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=wn);let o=n,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{t.currentQueryIndex=d;let h=t.createSubContext(e.options,c);s&&h.delayNextStep(s),c===t.element&&(l=h.currentTimeline),K(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let v=h.currentTimeline.currentTime;o=Math.max(o,v)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let n=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let d=t.currentTimeline;l&&d.delayNextStep(l);let h=d.currentTime;K(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-h+(r.startTime-n.currentTimeline.startTime)}},wn={},Ui=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=wn;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,n,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=l||new bn(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let n=e,r=this.options;n.duration!=null&&(r.duration=ge(n.duration)),n.delay!=null&&(r.delay=ge(n.delay));let s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=vt(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let n=e.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return e}createSubContext(e=null,t,n){let r=t||this.element,s=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=wn,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},s=new xi(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(Uc,"."+this._enterClassName),e=e.replace(Vc,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,e,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!s&&a.length==0&&o.push(Zl(t)),a}},bn=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new i(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Lc,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||de),this._currentKeyframe.set(t,de);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=qc(e,this._globalTimelineStyles);for(let[a,l]of o){let c=vt(l,s,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??de),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{let r=this._styleSummary.get(n);(!r||t.time>r.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,h)=>{d===an?e.add(h):d===de&&t.add(h)}),n||c.set("offset",l/this.duration),r.push(c)});let s=[...e.values()],o=[...t.values()];if(n){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Ji(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},xi=class extends bn{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,n,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=n+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",po(a)),s.push(c);let d=e.length-1;for(let h=1;h<=d;h++){let v=new Map(e[h]),E=v.get("offset"),y=t+E*n;v.set("offset",po(y/o)),s.push(v)}n=o,t=0,r="",e=s}return Ji(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}};function po(i,e=3){let t=Math.pow(10,e-1);return Math.round(i*t)/t}function qc(i,e){let t=new Map,n;return i.forEach(r=>{if(r==="*"){n??=e.keys();for(let s of n)t.set(s,de)}else for(let[s,o]of r)t.set(s,o)}),t}function mo(i,e,t,n,r,s,o,a,l,c,d,h,v){return{type:0,element:i,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:h,errors:v}}var Pi={},Pn=class{_triggerName;ast;_stateStyles;constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return Wc(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,n):new Map}build(e,t,n,r,s,o,a,l,c,d){let h=[],v=this.ast.options&&this.ast.options.params||Pi,E=a&&a.params||Pi,y=this.buildStyles(n,E,h),I=l&&l.params||Pi,C=this.buildStyles(r,I,h),R=new Set,N=new Map,M=new Map,D=r==="void",pe={params:Ro(I,v),delay:this.ast.options?.delay},W=d?[]:ko(e,t,this.ast.animation,s,o,y,C,pe,c,h),L=0;return W.forEach(x=>{L=Math.max(x.duration+x.delay,L)}),h.length?mo(t,this._triggerName,n,r,D,y,C,[],[],N,M,L,h):(W.forEach(x=>{let J=x.element,ye=$(N,J,new Set);x.preStyleProps.forEach(Re=>ye.add(Re));let Zi=$(M,J,new Set);x.postStyleProps.forEach(Re=>Zi.add(Re)),J!==t&&R.add(J)}),mo(t,this._triggerName,n,r,D,y,C,W,[...R.values()],N,M,L))}};function Wc(i,e,t,n,r){return i.some(s=>s(e,t,n,r))}function Ro(i,e){let t=ve({},e);return Object.entries(i).forEach(([n,r])=>{r!=null&&(t[n]=r)}),t}var Vi=class{styles;defaultParams;normalizer;constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){let n=new Map,r=Ro(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=vt(o,r,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),n.set(a,o)})}),n}};function zc(i,e,t){return new qi(i,e,t)}var qi=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new Vi(r.style,s,n))}),fo(this.states,"true","1"),fo(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Pn(e,r,this.states))}),this.fallbackTransition=Bc(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(o=>o.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}};function Bc(i,e,t){let n=[(o,a)=>!0],r={type:w.Sequence,steps:[],options:null},s={type:w.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new Pn(i,s,e)}function fo(i,e,t){i.has(e)?i.has(t)||i.set(t,i.get(e)):i.has(t)&&i.set(e,i.get(t))}var jc=new Et,Wi=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n}register(e,t){let n=[],r=[],s=Co(this._driver,t,n,r);if(n.length)throw rc(n);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,n){let r=e.element,s=So(this._normalizer,e.keyframes,t,n);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=ko(this._driver,t,s,bo,Ri,new Map,new Map,n,jc,r),o.forEach(d=>{let h=$(a,d.element,new Map);d.postStyleProps.forEach(v=>h.set(v,null))})):(r.push(sc()),o=[]),r.length)throw oc(r);a.forEach((d,h)=>{d.forEach((v,E)=>{d.set(E,this._driver.computeStyle(h,E,de))})});let l=o.map(d=>{let h=a.get(d.element);return this._buildPlayer(d,new Map,h)}),c=ke(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw ac(e);return t}listen(e,t,n,r){let s=Ki(t,"","","");return Hi(this._getPlayer(e),n,s,r),()=>{}}command(e,t,n,r){if(n=="register"){this.register(e,r[0]);return}if(n=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},go="ng-animate-queued",Hc=".ng-animate-queued",Ai="ng-animate-disabled",Kc=".ng-animate-disabled",$c="ng-star-inserted",Gc=".ng-star-inserted",Qc=[],No={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Yc={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ne="__ng_removed",St=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let n=e&&e.hasOwnProperty("value"),r=n?e.value:e;if(this.value=Xc(r),n){let s=e,{value:o}=s,a=ir(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let n=this.options.params;Object.keys(t).forEach(r=>{n[r]==null&&(n[r]=t[r])})}}},_t="void",Ci=new St(_t),zi=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this._hostClassName="ng-tns-"+e,Y(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.has(t))throw lc(n,t);if(n==null||n.length==0)throw cc(t);if(!Zc(n))throw uc(n,t);let s=$(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};s.push(o);let a=$(this._engine.statesByElement,e,new Map);return a.has(t)||(Y(e,fn),Y(e,fn+"-"+t),a.set(t,Ci)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw dc(e);return t}trigger(e,t,n,r=!0){let s=this._getTrigger(t),o=new It(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Y(e,fn),Y(e,fn+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new St(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=Ci),!(c.value===_t)&&l.value===c.value){if(!nu(l.params,c.params)){let I=[],C=s.matchStyles(l.value,l.params,I),R=s.matchStyles(c.value,c.params,I);I.length?this._engine.reportError(I):this._engine.afterFlush(()=>{je(e,C),he(e,R)})}return}let v=$(this._engine.playersByElement,e,[]);v.forEach(I=>{I.namespaceId==this.id&&I.triggerName==t&&I.queued&&I.destroy()});let E=s.matchTransition(l.value,c.value,e,c.params),y=!1;if(!E){if(!r)return;E=s.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:E,fromState:l,toState:c,player:o,isFallbackTransition:y}),y||(Y(e,go),o.onStart(()=>{nt(e,go)})),o.onDone(()=>{let I=this.players.indexOf(o);I>=0&&this.players.splice(I,1);let C=this._engine.playersByElement.get(e);if(C){let R=C.indexOf(o);R>=0&&C.splice(R,1)}}),this.players.push(o),v.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let n=this._engine.driver.query(e,En,!0);n.forEach(r=>{if(r[ne])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,n,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let d=this.trigger(e,c,_t,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),n&&ke(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=n.get(o)||Ci,d=new St(_t),h=new It(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(e,t){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){let s=n.players.length?n.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{let s=e[ne];(!s||s===No)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Y(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let s=n.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==n.triggerName){let l=Ki(s,n.triggerName,n.fromState.value,n.toState.value);l._data=e,Hi(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{let s=n.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Bi=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){let n=new zi(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||n.unshift(e)}else n.push(e);return r.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,n=this.statesByElement.get(e);if(n){for(let r of n.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,n,r){if(_n(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!_n(t))return;let s=t[ne];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Y(e,Ai)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),nt(e,Ai))}removeNode(e,t,n){if(_n(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,r,s){this.collectedLeaveElements.push(t),t[ne]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,n,r,s){return _n(t)?this._fetchNamespace(e).listen(t,n,r,s):()=>{}}_buildInstruction(e,t,n,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,En,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Ni,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ke(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[ne];if(t&&t.setForRemoval){if(e[ne]=No,t.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Ai)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Kc,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];Y(r,$c)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{t=this._flushAnimations(n,e)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],t.length?ke(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(e){throw hc(e)}_flushAnimations(e,t){let n=new Et,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(g=>{d.add(g);let _=this.driver.query(g,Hc,!0);for(let S=0;S<_.length;S++)d.add(_[S])});let h=this.bodyNode,v=Array.from(this.statesByElement.keys()),E=vo(v,this.collectedEnterElements),y=new Map,I=0;E.forEach((g,_)=>{let S=bo+I++;y.set(_,S),g.forEach(P=>Y(P,S))});let C=[],R=new Set,N=new Set;for(let g=0;g<this.collectedLeaveElements.length;g++){let _=this.collectedLeaveElements[g],S=_[ne];S&&S.setForRemoval&&(C.push(_),R.add(_),S.hasAnimation?this.driver.query(_,Gc,!0).forEach(P=>R.add(P)):N.add(_))}let M=new Map,D=vo(v,Array.from(R));D.forEach((g,_)=>{let S=Ri+I++;M.set(_,S),g.forEach(P=>Y(P,S))}),e.push(()=>{E.forEach((g,_)=>{let S=y.get(_);g.forEach(P=>nt(P,S))}),D.forEach((g,_)=>{let S=M.get(_);g.forEach(P=>nt(P,S))}),C.forEach(g=>{this.processLeaveNode(g)})});let pe=[],W=[];for(let g=this._namespaceList.length-1;g>=0;g--)this._namespaceList[g].drainQueuedTransitions(t).forEach(S=>{let P=S.player,F=S.element;if(pe.push(P),this.collectedEnterElements.length){let V=F[ne];if(V&&V.setForMove){if(V.previousTriggersValues&&V.previousTriggersValues.has(S.triggerName)){let Ne=V.previousTriggersValues.get(S.triggerName),G=this.statesByElement.get(S.element);if(G&&G.has(S.triggerName)){let Tt=G.get(S.triggerName);Tt.value=Ne,G.set(S.triggerName,Tt)}}P.destroy();return}}let ie=!h||!this.driver.containsElement(h,F),B=M.get(F),_e=y.get(F),k=this._buildInstruction(S,n,_e,B,ie);if(k.errors&&k.errors.length){W.push(k);return}if(ie){P.onStart(()=>je(F,k.fromStyles)),P.onDestroy(()=>he(F,k.toStyles)),r.push(P);return}if(S.isFallbackTransition){P.onStart(()=>je(F,k.fromStyles)),P.onDestroy(()=>he(F,k.toStyles)),r.push(P);return}let nr=[];k.timelines.forEach(V=>{V.stretchStartingKeyframe=!0,this.disabledNodes.has(V.element)||nr.push(V)}),k.timelines=nr,n.append(F,k.timelines);let xo={instruction:k,player:P,element:F};o.push(xo),k.queriedElements.forEach(V=>$(a,V,[]).push(P)),k.preStyleProps.forEach((V,Ne)=>{if(V.size){let G=l.get(Ne);G||l.set(Ne,G=new Set),V.forEach((Tt,Dn)=>G.add(Dn))}}),k.postStyleProps.forEach((V,Ne)=>{let G=c.get(Ne);G||c.set(Ne,G=new Set),V.forEach((Tt,Dn)=>G.add(Dn))})});if(W.length){let g=[];W.forEach(_=>{g.push(pc(_.triggerName,_.errors))}),pe.forEach(_=>_.destroy()),this.reportError(g)}let L=new Map,x=new Map;o.forEach(g=>{let _=g.element;n.has(_)&&(x.set(_,_),this._beforeAnimationBuild(g.player.namespaceId,g.instruction,L))}),r.forEach(g=>{let _=g.element;this._getPreviousPlayers(_,!1,g.namespaceId,g.triggerName,null).forEach(P=>{$(L,_,[]).push(P),P.destroy()})});let J=C.filter(g=>Eo(g,l,c)),ye=new Map;_o(ye,this.driver,N,c,de).forEach(g=>{Eo(g,l,c)&&J.push(g)});let Re=new Map;E.forEach((g,_)=>{_o(Re,this.driver,new Set(g),l,an)}),J.forEach(g=>{let _=ye.get(g),S=Re.get(g);ye.set(g,new Map([..._?.entries()??[],...S?.entries()??[]]))});let On=[],er=[],tr={};o.forEach(g=>{let{element:_,player:S,instruction:P}=g;if(n.has(_)){if(d.has(_)){S.onDestroy(()=>he(_,P.toStyles)),S.disabled=!0,S.overrideTotalTime(P.totalTime),r.push(S);return}let F=tr;if(x.size>1){let B=_,_e=[];for(;B=B.parentNode;){let k=x.get(B);if(k){F=k;break}_e.push(B)}_e.forEach(k=>x.set(k,F))}let ie=this._buildAnimation(S.namespaceId,P,L,s,Re,ye);if(S.setRealPlayer(ie),F===tr)On.push(S);else{let B=this.playersByElement.get(F);B&&B.length&&(S.parentPlayer=ke(B)),r.push(S)}}else je(_,P.fromStyles),S.onDestroy(()=>he(_,P.toStyles)),er.push(S),d.has(_)&&r.push(S)}),er.forEach(g=>{let _=s.get(g.element);if(_&&_.length){let S=ke(_);g.setRealPlayer(S)}}),r.forEach(g=>{g.parentPlayer?g.syncPlayerEvents(g.parentPlayer):g.destroy()});for(let g=0;g<C.length;g++){let _=C[g],S=_[ne];if(nt(_,Ri),S&&S.hasAnimation)continue;let P=[];if(a.size){let ie=a.get(_);ie&&ie.length&&P.push(...ie);let B=this.driver.query(_,Ni,!0);for(let _e=0;_e<B.length;_e++){let k=a.get(B[_e]);k&&k.length&&P.push(...k)}}let F=P.filter(ie=>!ie.destroyed);F.length?eu(this,_,F):this.processLeaveNode(_)}return C.length=0,On.forEach(g=>{this.players.push(g),g.onDone(()=>{g.destroy();let _=this.players.indexOf(g);this.players.splice(_,1)}),g.play()}),On}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==_t;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(n||r)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,n){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let c=l.element,d=c!==s,h=$(n,c,[]);this._getPreviousPlayers(c,d,o,a,t.toState).forEach(E=>{let y=E.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),E.destroy(),h.push(E)})}je(s,t.fromStyles)}_buildAnimation(e,t,n,r,s,o){let a=t.triggerName,l=t.element,c=[],d=new Set,h=new Set,v=t.timelines.map(y=>{let I=y.element;d.add(I);let C=I[ne];if(C&&C.removedBeforeQueried)return new Ce(y.duration,y.delay);let R=I!==l,N=tu((n.get(I)||Qc).map(L=>L.getRealPlayer())).filter(L=>{let x=L;return x.element?x.element===I:!1}),M=s.get(I),D=o.get(I),pe=So(this._normalizer,y.keyframes,M,D),W=this._buildPlayer(y,pe,N);if(y.subTimeline&&r&&h.add(I),R){let L=new It(e,a,I);L.setRealPlayer(W),c.push(L)}return W});c.forEach(y=>{$(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>Jc(this.playersByQueriedElement,y.element,y))}),d.forEach(y=>Y(y,co));let E=ke(v);return E.onDestroy(()=>{d.forEach(y=>nt(y,co)),he(l,t.toStyles)}),h.forEach(y=>{$(r,y,[]).push(E)}),E}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Ce(e.duration,e.delay)}},It=class{namespaceId;triggerName;element;_player=new Ce;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(r=>Hi(e,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Jc(i,e,t){let n=i.get(e);if(n){if(n.length){let r=n.indexOf(t);n.splice(r,1)}n.length==0&&i.delete(e)}return n}function Xc(i){return i??null}function _n(i){return i&&i.nodeType===1}function Zc(i){return i=="start"||i=="done"}function yo(i,e){let t=i.style.display;return i.style.display=e??"none",t}function _o(i,e,t,n,r){let s=[];t.forEach(l=>s.push(yo(l)));let o=[];n.forEach((l,c)=>{let d=new Map;l.forEach(h=>{let v=e.computeStyle(c,h,r);d.set(h,v),(!v||v.length==0)&&(c[ne]=Yc,o.push(c))}),i.set(c,d)});let a=0;return t.forEach(l=>yo(l,s[a++])),o}function vo(i,e){let t=new Map;if(i.forEach(a=>t.set(a,[])),e.length==0)return t;let n=1,r=new Set(e),s=new Map;function o(a){if(!a)return n;let l=s.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:r.has(c)?l=n:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==n&&t.get(l).push(a)}),t}function Y(i,e){i.classList?.add(e)}function nt(i,e){i.classList?.remove(e)}function eu(i,e,t){ke(t).onDone(()=>i.processLeaveNode(e))}function tu(i){let e=[];return Oo(i,e),e}function Oo(i,e){for(let t=0;t<i.length;t++){let n=i[t];n instanceof gt?Oo(n.players,e):e.push(n)}}function nu(i,e){let t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||i[s]!==e[s])return!1}return!0}function Eo(i,e,t){let n=t.get(i);if(!n)return!1;let r=e.get(i);return r?n.forEach(s=>r.add(s)):e.set(i,n),t.delete(i),!0}var it=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,n){this._driver=t,this._normalizer=n,this._transitionEngine=new Bi(e.body,t,n),this._timelineEngine=new Wi(e.body,t,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,n,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],d=Co(this._driver,s,l,c);if(l.length)throw nc(r,l);c.length&&void 0,a=zc(r,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if(n.charAt(0)=="@"){let[s,o]=ao(n),a=r;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,s){if(n.charAt(0)=="@"){let[o,a]=ao(n);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,n,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function iu(i,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=ki(e[0]),e.length>1&&(n=ki(e[e.length-1]))):e instanceof Map&&(t=ki(e)),t||n?new ru(i,t,n):null}var ru=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r;let s=i.initialStylesByElement.get(t);s||i.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&he(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(he(this._element,this._initialStyles),this._endStyles&&(he(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(je(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(je(this._element,this._endStyles),this._endStyles=null),he(this._element,this._initialStyles),this._state=3)}}return i})();function ki(i){let e=null;return i.forEach((t,n)=>{su(n)&&(e=e||new Map,e.set(n,t))}),e}function su(i){return i==="display"||i==="position"}var An=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&e.set(r,this._finished?n:Yi(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},Cn=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Io(e,t)}getParentElement(e){return $i(e)}query(e,t,n){return To(e,t,n)}computeStyle(e,t,n){return Yi(e,t)}animate(e,t,n,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:n,delay:r,fill:a};s&&(l.easing=s);let c=new Map,d=o.filter(E=>E instanceof An);wc(n,r)&&d.forEach(E=>{E.currentSnapshot.forEach((y,I)=>c.set(I,y))});let h=Sc(t).map(E=>new Map(E));h=bc(e,h,c);let v=iu(e,h);return new An(e,h,l,v)}};var vn="@",Do="@.disabled",kn=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,n,r){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==vn&&t==Do?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},ji=class extends kn{factory;constructor(e,t,n,r,s){super(t,n,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==vn?t.charAt(1)=="."&&t==Do?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==vn){let r=ou(e),s=t.slice(1),o="";return s.charAt(0)!=vn&&([s,o]=au(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,n,a)})}return this.delegate.listen(e,t,n)}};function ou(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function au(i){let e=i.indexOf("."),t=i.substring(0,e),n=i.slice(e+1);return[t,n]}var Rn=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,t.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(e,t){let n="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,d=c.get(r);if(!d){let h=()=>c.delete(r);d=new kn(n,r,this.engine,h),c.set(r,d)}return d}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new ji(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var cu=(()=>{class i extends it{constructor(t,n,r){super(t,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(bt(yr),bt(He),bt(Ke))};static \u0275prov=Ee({token:i,factory:i.\u0275fac})}return i})();function uu(){return new In}function du(i,e,t){return new Rn(i,e,t)}var Lo=[{provide:Ke,useFactory:uu},{provide:it,useClass:cu},{provide:cr,useFactory:du,deps:[Er,it,ar]}],Mo=[{provide:He,useFactory:()=>new Cn},{provide:Ln,useValue:"BrowserAnimations"},...Lo],hu=[{provide:He,useClass:Gi},{provide:Ln,useValue:"NoopAnimations"},...Lo],Fo=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?hu:Mo}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=ur({type:i});static \u0275inj=sr({providers:Mo,imports:[Ir]})}return i})();var Uo={providers:[mr({eventCoalescing:!0}),br(so),or([Fo])]};var Nn=class i{title="chicken-app";static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(t,n){t&1&&O(0,"router-outlet")},dependencies:[kt],encapsulation:2})};var Xi={production:!1,firebaseConfig:{apiKey:"AIzaSyDDAw7n8q9DnL5oTuLstWPam6s3tB0lBGc",authDomain:"felinesas-web-testing.firebaseapp.com",projectId:"felinesas-web-testing",storageBucket:"felinesas-web-testing.firebasestorage.app",messagingSenderId:"589533379305",appId:"1:589533379305:web:6d3c5e2010c8ad08194e78"}};var pu="firebase",mu="11.0.2";ot(pu,mu,"app");Xi.production&&void 0;Hr(Xi.firebaseConfig);Sr(Nn,Uo).catch(i=>console.error(i));
